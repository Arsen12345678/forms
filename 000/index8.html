<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href=https://fonts.google.com/specimen/Rubik+Iso/about>
</head>

<body>
    <div id="box">
        <h1 id="h1">Яблоко</h1>
        <img src="/rr.jpeg" class="blur" data-src="/rr.jpeg" alt="">
        <p id="text1">Деревья с развесистой кроной высотой 2,5—15 м. Ветви — укороченные (плодущие), на которых
            закладываются цветочные почки, и удлинённые (ростовые). У дикорастущих видов на ветвях имеются колючки.</p>
        <img src="/pp.jpg" class='blur' data-src="/pp.jpg" alt="">
        <p id="text2">Всего на территории бывшего СССР известно свыше десяти видов. Из дикорастущих видов в лесах
            Европейской части и на Кавказе произрастает яблоня лесная (Malus sylvestris); в Малой Азии, Иране, Крыму и
            на Кавказе — яблоня восточная (Malus orientalis); в Китае, Монголии, Приморском крае, Восточной Сибири —
            яблоня ягодная (Malus baccata); в лесах Тянь-Шаня — яблоня Недзвецкого (Malus niedzwetzkyana), в
            окрестностях Алма-Аты — яблоня Сиверса (Malus sieversii), дикий предок многих культурных сортов яблок.</p>
        <p id="text3">Потребление на душу населения яблок (без учета хозяйств населения) в 2017—2021 гг. составило 12,6
            кг. В 2012—2016 гг. оно находилось на уровне 12,0 кг, в 2007—2011 гг. — составляло 10,8 кг.
            Среднегодовой объем рынка яблок (без учета хозяйств населения) в 2017—2021 гг. достиг 1 853,7 тыс. тонн. Для
            сравнения, в 2012—2016 гг. объемы составляли 1 736,3 тыс. тонн. При этом импорт значительно сократился (с 1
            082,5 тыс. тонн до 757,7 тыс. тонн), а промышленное производство, напротив, ощутимо возросло (с 658,1 тыс.
            тонн до 1 111,2 тыс. тонн).
            Самообеспеченность России по яблокам в 2017—2021 годах возросла до 59,9 %. В 2012—2016 годах уровень
            самообеспеченности составлял 37,9 %, в 2007—2011 годах — 28,6 %, а 71,4 % яблок приходилось на импортную
            продукцию[26].</p>
        <p>Lorem ipsum dolor sit amet consectetur, adipisicing
            elit. Perspiciatis eligendi veniam quasi nemo? Quaerat laboriosam eius dolorem adipisci? Iure eius
            laboriosam vel aut blanditiis ipsum neque magni, ducimus totam! Omnis consequuntur temporibus quidem. Aut
            consequatur iste quae, autem similique velit provident non officia expedita est quidem impedit, labore, eius
            rem eveniet praesentium quas molestiae. In debitis aperiam voluptatibus amet, culpa exercitationem adipisci
            doloribus, cupiditate, et soluta sunt tempora! Perferendis impedit dolorum vitae est ullam eligendi
            nostrum autem ipsam voluptates quidem provident animi reprehenderit id, enim at debitis, dolor voluptatem
            error illum quia atque ea tenetur officia. Dolorum ad, pariatur libero quasi doloremque debitis maiores
            aperiam distinctio aliquid aliquam corrupti, nihil deserunt omnis minus? Architecto, neque! Quaerat
            asperiores aut nostrum esse voluptatum rem quibusdam, harum sit mollitia, deserunt eos reprehenderit non
            fugiat voluptatibus praesentium quod qui ex doloribus eligendi. Tempora amet illo asperiores eligendi quam
            laboriosam facilis necessitatibus, corrupti provident natus repudiandae voluptate dignissimos ad rerum et
            dolorem consectetur numquam, voluptatem itaque deleniti delectus tenetur eum molestiae excepturi. Laboriosam
            hic fugit qui quasi deserunt, quisquam, minima illum eius, quia at similique ducimus repellendus. Ullam
            corporis laborum sed accusamus culpa, commodi mollitia impedit ipsam, aspernatur sint dicta voluptatibus
            neque. Optio fuga sunt quisquam in nostrum voluptatem illo molestias? Adipisci officiis quas nihil. Saepe
            officia repudiandae explicabo, veniam vero delectus in, repellat, quidem corporis ab voluptatem! Consequatur
            explicabo cum perferendis! Porro praesentium cumque quod autem sed. Doloremque iusto magni vitae minima,
            maxime eaque nihil cum, voluptatum dolor aliquam earum ipsa nemo cumque mollitia incidunt fugiat ex hic quos
            in debitis sint doloribus! Reiciendis impedit hic asperiores fugit eaque nisi modi aspernatur nobis vsoluta
            ullam possimus sunt quos dicta voluptatem dolorum cumque numquam voluptates aliquam earum consequuntur harum
            et. Impedit libero ullam dolor voluptatibus excepturi quidem quod quos, optio corporis et harum ex
            reiciendis molestiae corrupti hic illo qui aliquam! Saepe maiores suscipit sit voluptatibus consequatur
            corrupti, magni nam deleniti autem commodi sunt modi neque sed. Voluptatem dignissimos, quod, neque dolores
            quis recusandae nam rerum optio, consectetur corporis enim odio. Modi, asperiores cumque vel libero unde,
            sint id neque rerum hic commodi provident rem et minima quam omnis ex tenetur, vitae laudantium? Voluptatum
            quas alias provident quis ducimus, earum illo quam? Maiores blanditiis, magnam doloremque ipsam laudantium
            maxime provident quia itaque ipsa ab, id accusantium, nam reiciendis vero veniam perspiciatis nulla nobis
            natus. Eum quibusdam provident deleniti atque temporibus sequi alias sunt, exercitationem ullam quas error
            dicta non sed quisquam dolorum, nam officia? Voluptates aut mollitia, ea veritatis voluptatem, porro nam
            repudiandae vitae excepturi accusantium dolore eveniet sapiente cupiditate eum minima veniam officia natus,
            eos ut! Corrupti illo possimus libero quam ratione хуй, ipsum distinctio ea fuga consequatur dicta, deleniti
            in optio ipsam pariatur, dolorum quasi nam fugiat quibusdam recusandae eaque numquam. Totam, iure. Nisi
            repellendus dolorum doloribus accusamus molestias quidem asperiores neque, iste recusandae deleniti eius
            ducimus quasi laborum dignissimos. Praesentium iusto libero at quis perferendis, totam voluptatum alias est
            consequuntur rerum vitae? Aspernatur iste dignissimos omnis labore? Culpa, quasi eos optio totam laborum
            harum! Doloremque ea, omnis voluptatum excepturi, deserunt numquam ut laboriosam consequuntur quas
            architecto porro tempora eos doloribus nesciunt quis perspiciatis officiis! Dolor laudantium cupiditate modi
            repudiandae explicabo? Illum, neque repellat minus ex temporibus cumque fugiat maxime eligendi corrupti aut
            rem possimus quod, eveniet obcaecati accusamus? Nihil, natus. Dignissimos nihil excepturi quos dolore,
            ratione quidem laboriosam pariatur cupiditate voluptatem suscipit id dolor, est voluptates, molestias
            doloremque obcaecati voluptate quas reiciendis fugit quaerat perferendis. Facilis accusantium officiis
            nihil? Veritatis hic, totam repudiandae fugiat provident suscipit culpa consequatur, quisquam distinctio
            voluptatem tenetur iusto accusantium sapiente nobis consectetur, labore eaque unde error. Necessitatibus
            quisquam dolore cumque saepe at nam reprehenderit, sunt deserunt ipsa repellat repellendus aut modi
            voluptatibus dignissimos debitis nihil iure quod corrupti optio suscipit molestias hic! Fuga nihil
            voluptatem molestiae aliquid illo adipisci deleniti itaque quod tempore voluptate ipsa, rerum error
            provident officiis autem quis esse distinctio deserunt, illum quia libero porro voluptatum in excepturi!
            Aperiam rem, culpa cupiditate aut praesentium omnis at et! Perferendis sit dolor pariatur numquam quo nam
            quisquam natus voluptatem, doloremque, aliquam ratione. Et alias repudiandae accusamus asperiores rerum
            fuga. Accusamus, consequuntur? Dolores, sed pariatur quae natus impedit vero dolorem eaque? Cumque dicta ex
            iure incidunt suscipit tempora architecto temporibus quibusdam, fuga culpa tenetur molestiae consectetur
            sequi enim nostrum recusandae sint quae! Perferendis repudiandae quisquam corrupti nesciunt quae. Dolor
            rsapiente illo consectetur ea quos id quia est animi repellendus voluptate odio voluptas. Exercitationem
            repudiandae culpa cum necessitatibus tenetur officia voluptates soluta. Officiis adipisci est provident
            veniam dolor. ipsum dolor sit amet consectetur, adipisicing elit. Sit fugiat iusto omnis adipisci fuga quae
            vcommodidolore consequatur maxime.</p>


    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // var box = document.getElementById('box');
            var counter = 0,
                lazyimages = [].slice.call(document.querySelectorAll('.blur'));
            console.log(lazyimages, lazyimages instanceof Array);
            function lazyload() {
                // var lazy = document.querySelector('.blur');
                lazyimages.forEach(function (lazy) {
                    counter++;
                    // console.log(lazy. getBoundingClientRect());
                    // console.log('Высота вьюпорта: ' + window.innerHeight);
                    console.log(counter);
                    if (lazy.getBoundingClientRect().top <= window.innerHeight) {


                        if (lazy.hasAttribute('data-src')) {
                            console.log('Уиииииии');
                            var data = lazy.getAttribute("data-src");
                            lazy.setAttribute('src', data);
                            lazy.removeAttribute('data-src');
                            lazy.classList.remove('blur');
                        }
                        lazyimages = lazyimages.filter(function (image) {
                            return image !== lazy;
                        });
                    }
                });
            }
            if (lazyimages.length === 0) {
                document.removeEventListener('scroll', lazyload);
            }
            document.removeEventListener('scroll', lazyload);
        }
            document.addEventListener('scroll', lazyload, false);
            //     ++counter;
            //     console.log('Он, прокрутился x' + counter);

            // }, false)
        });
        var qwe = {},
            number = 10,
            string = 'Я - строчка';
        function logthis() {
            console.log(this);
        }
        logthis();
        logthis.call(qwe);
        logthis.call(number);
        logthis.call(string);
    </script>
</body>

</html>